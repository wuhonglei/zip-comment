var r=function(){for(var r=new Array(256),e=0;e<256;e++)r[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return r[254]=r[254]=1,r}();export default function(e){return new Promise((function(t,n){var a=new FileReader;a.addEventListener("load",(function(e){var a=e.target.result,o=new Uint8Array(a);try{var f=function(e){var t=function(r,e){const t=e.charCodeAt(0),n=e.charCodeAt(1),a=e.charCodeAt(2),o=e.charCodeAt(3);for(var f=r.length-4;f>=0;f--)if(r[f]===t&&r[f+1]===n&&r[f+2]===a&&r[f+3]===o)return f;return-1}(e,"PK");if(-1===t)throw new Error("does not find the end of central directory");startIndex=t+20;var n=2,a=function(r,e,t){var n,a=0;for(n=e+t-1;n>=e;n--)a=(a<<8)+r[n];return a}(e,startIndex,n);if(!a)return null;return startIndex+=n,function(e){var t,n,a,o,f=e.length,u=new Array(2*f);for(n=0,t=0;t<f;)if((a=e[t++])<128)u[n++]=a;else if((o=r[a])>4)u[n++]=65533,t+=o-1;else{for(a&=2===o?31:3===o?15:7;o>1&&t<f;)a=a<<6|63&e[t++],o--;o>1?u[n++]=65533:a<65536?u[n++]=a:(a-=65536,u[n++]=55296|a>>10&1023,u[n++]=56320|1023&a)}u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n);return String.fromCharCode.apply(null,u)}(e.slice(startIndex,startIndex+a))}(o);t(f)}catch(r){n(r)}})),a.addEventListener("error",r=>{n(r)}),a.readAsArrayBuffer(e)}))}
