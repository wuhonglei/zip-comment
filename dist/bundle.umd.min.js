!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r="undefined"!=typeof globalThis?globalThis:r||self).loadZipAsync=e()}(this,(function(){"use strict";var r=function(){for(var r=new Array(256),e=0;e<256;e++)r[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return r[254]=r[254]=1,r}();return function(e){return new Promise((function(n,t){var o=new FileReader;o.addEventListener("load",(function(e){var o=e.target.result,a=new Uint8Array(o);try{var f=function(e){var n=function(r,e){const n=e.charCodeAt(0),t=e.charCodeAt(1),o=e.charCodeAt(2),a=e.charCodeAt(3);for(var f=r.length-4;f>=0;f--)if(r[f]===n&&r[f+1]===t&&r[f+2]===o&&r[f+3]===a)return f;return-1}(e,"PK");if(-1===n)throw new Error("does not find the end of central directory");startIndex=n+20;var t=2,o=function(r,e,n){var t,o=0;for(t=e+n-1;t>=e;t--)o=(o<<8)+r[t];return o}(e,startIndex,t);if(!o)return null;return startIndex+=t,function(e){var n,t,o,a,f=e.length,i=new Array(2*f);for(t=0,n=0;n<f;)if((o=e[n++])<128)i[t++]=o;else if((a=r[o])>4)i[t++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<f;)o=o<<6|63&e[n++],a--;a>1?i[t++]=65533:o<65536?i[t++]=o:(o-=65536,i[t++]=55296|o>>10&1023,i[t++]=56320|1023&o)}i.length!==t&&(i.subarray?i=i.subarray(0,t):i.length=t);return String.fromCharCode.apply(null,i)}(e.slice(startIndex,startIndex+o))}(a);n(f)}catch(r){t(r)}})),o.addEventListener("error",r=>{t(r)}),o.readAsArrayBuffer(e)}))}}));
